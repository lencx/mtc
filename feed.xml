<?xml version="1.0" encoding="utf-8"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
<channel>
  <title>æµ®ä¹‹é™</title>
  <atom:link href="https://z.nofwl.com/feed.xml" rel="self" type="application/rss+xml" />
  <link>https://z.nofwl.com</link>
  <description>æµ®ä¹‹é™ æŠ€æœ¯ç¤¾åŒº</description>
  <item>
  <title><![CDATA[WebAssembly ç³»åˆ—]]></title>
  <link>https://github.com/lencx/fzj/discussions/22</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/22</guid>
  <pubDate>2021-06-24</pubDate>
  <description><![CDATA[<h2>Guide</h2>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/WebAssembly" rel="nofollow">MDN WebAssembly</a></li>
<li><a href="https://webassembly.org" rel="nofollow">webassembly.org</a> - WebAssembly (abbreviated Wasm) is a binary instruction format for a stack-based virtual machine. Wasm is designed as a portable compilation target for programming languages, enabling deployment on the web for client and server applications.</li>
<li><a href="https://rustwasm.github.io/docs/book" rel="nofollow">Rust <g-emoji class="g-emoji" alias="crab" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f980.png">ğŸ¦€</g-emoji>   and WebAssembly <g-emoji class="g-emoji" alias="spider_web" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f578.png">ğŸ•¸</g-emoji>   </a> - This small book describes how to use Rust and WebAssembly together.</li>
<li><a href="https://github.com/appcypher/awesome-wasm-langs">Awesome WebAssembly Languages</a> - <g-emoji class="g-emoji" alias="sunglasses" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f60e.png">ğŸ˜</g-emoji>  A curated list of languages that compile directly to or have their VMs in WebAssembly</li>
<li><a href="https://wasmweekly.news" rel="nofollow">WebAssembly Weekly</a> - A weekly newsletter for keeping on top of what's new in the world of WebAssembly, with tutorials, examples, articles, and more.</li>
<li><a href="https://github.com/mbasso/awesome-wasm">Awesome Wasm</a> - <g-emoji class="g-emoji" alias="sunglasses" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f60e.png">ğŸ˜</g-emoji>  Curated list of awesome things regarding WebAssembly (wasm) ecosystem.</li>
<li><a href="https://wasmbyexample.dev/home.en-us.html" rel="nofollow">Wasm By Example</a> - A hands-on introduction into WebAssembly ( Wasm ). Containing simple wasm examples and wasm tutorials on how to implement concepts and various tasks using WebAssembly.</li>
</ul>
<h2>WASI &amp; VM &amp; VDOM</h2>
<ul>
<li><a href="https://github.com/bytecodealliance/wasmtime">wasmtime</a> - Standalone JIT-style runtime for WebAssembly, using Cranelift</li>
<li><a href="https://github.com/wasm3/wasm3">Wasm3</a> - <g-emoji class="g-emoji" alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png">ğŸš€</g-emoji>  The fastest WebAssembly interpreter, and the most universal runtime</li>
<li><a href="https://github.com/wasmerio/wasmer">Wasmer</a> - <g-emoji class="g-emoji" alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png">ğŸš€</g-emoji>  The leading WebAssembly Runtime supporting WASI and Emscripten.</li>
<li><a href="https://github.com/bytecodealliance/lucet">Lucet</a> - Lucet, the Sandboxing WebAssembly Compiler.</li>
<li><a href="https://github.com/WasmEdge/WasmEdge">WasmEdge</a> - WasmEdge Runtime is a high-performance, extensible, and hardware optimized WebAssembly Virtual Machine for automotive, cloud, AI, and blockchain applications.</li>
<li><a href="https://github.com/mbasso/asm-dom">asm-dom</a> - A minimal WebAssembly virtual DOM to build C++ SPA (Single page applications)</li>
</ul>
<h2>Tools</h2>
<ul>
<li><a href="https://wapm.io" rel="nofollow">wapm</a> - <code>WAPM</code> is the WebAssembly Package Manager.</li>
<li><a href="https://github.com/thedodd/trunk">trunk</a> - Build, bundle &amp; ship your Rust WASM application to the web.</li>
<li><a href="https://github.com/bytecodealliance/wasm-tools">wasm-tools</a> - Rust tooling for low-level manipulation of WebAssembly modules.</li>
<li><a href="https://github.com/rustwasm/wasm-pack">wasm-pack</a> - <g-emoji class="g-emoji" alias="package" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4e6.png">ğŸ“¦</g-emoji>  <g-emoji class="g-emoji" alias="sparkles" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2728.png">âœ¨</g-emoji>  your favorite rust -&gt; wasm workflow tool!</li>
</ul>
<h2>Optimizing</h2>
<ul>
<li><a href="https://rustwasm.github.io/book/reference/code-size.html" rel="nofollow">Shrinking <code>.wasm</code> Code Size</a>
<ul>
<li><a href="https://github.com/WebAssembly/binaryen">Binaryen</a> - Binaryen is a compiler and toolchain infrastructure library for WebAssembly, written in C++. It aims to make compiling to WebAssembly easy, fast, and effective.</li>
<li><a href="https://github.com/rustwasm/twiggy">Twiggy</a> - Twiggy <g-emoji class="g-emoji" alias="seedling" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f331.png">ğŸŒ±</g-emoji>  is a code size profiler</li>
</ul>
</li>
<li><a href="https://emscripten.org/docs/optimizing/Optimizing-Code.html" rel="nofollow">Optimizing Code (<code>cpp</code>)</a></li>
<li><a href="https://arxiv.org/pdf/2002.10213.pdf" rel="nofollow">Superoptimization of WebAssembly Bytecode</a></li>
</ul>
<h2>Open Source</h2>
<ul>
<li><a href="https://github.com/lencx/vite-plugin-rsw">vite-plugin-rsw</a> - <g-emoji class="g-emoji" alias="jigsaw" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f9e9.png">ğŸ§©</g-emoji>  wasm-pack plugin for vite@v2</li>
<li><a href="https://github.com/lencx/rsw-node">rsw-node</a> - <g-emoji class="g-emoji" alias="white_circle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26aa.png">âšªï¸</g-emoji>  <code>wasm-pack build</code> executed in remote deployment</li>
<li><a href="https://github.com/GoogleChromeLabs/wasi-fs-access">wasi-fs-access</a> - This is a demo shell powered by WebAssembly, WASI, Asyncify and File System Access API.</li>
<li><a href="https://ffmpegwasm.github.io" rel="nofollow">FFMPEG.WASM</a> - ffmpeg.wasm is a pure WebAssembly / JavaScript port of FFmpeg. It enables video &amp; audio record, convert and stream right inside browsers.</li>
<li><a href="https://github.com/ColinEberhardt/wasm-rust-chip8">A WebAssembly CHIP-8 Emulator</a> - A WebAssembly CHIP-8 emulator written with Rust</li>
<li><a href="https://bbodi.github.io/notecalc3" rel="nofollow">NoteCalc is a handy notepad with a smart builtin calculator.</a></li>
<li><a href="https://github.com/torch2424/wasmboy">wasmboy</a> - Game Boy / Game Boy Color Emulator Library, <g-emoji class="g-emoji" alias="video_game" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3ae.png">ğŸ®</g-emoji>   written for WebAssembly using AssemblyScript. <g-emoji class="g-emoji" alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png">ğŸš€</g-emoji>  Demos built with Preact and Svelte. <g-emoji class="g-emoji" alias="atom_symbol" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/269b.png">âš›ï¸</g-emoji></li>
<li><a href="https://github.com/38/plotters">Plotters</a> - A rust drawing library for high quality data plotting for both WASM and native, statically and realtimely <g-emoji class="g-emoji" alias="crab" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f980.png">ğŸ¦€</g-emoji>   <g-emoji class="g-emoji" alias="chart_with_upwards_trend" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4c8.png">ğŸ“ˆ</g-emoji>  <g-emoji class="g-emoji" alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png">ğŸš€</g-emoji></li>
<li><a href="https://github.com/tomaka/redshirt">redshirt</a> - The redshirt operating system is an experiment to build some kind of operating-system-like environment where executables are all in Wasm and are loaded from an IPFS-like decentralized network.</li>
<li><a href="https://github.com/silvia-odwyer/photon">Photon</a> - <g-emoji class="g-emoji" alias="zap" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a1.png">âš¡</g-emoji>  Rust/WebAssembly image processing library</li>
<li><a href="https://github.com/rsms/markdown-wasm">markdown-wasm</a> - Markdown parser and HTML generator implemented in WebAssembly, based on md4c.</li>
<li><a href="https://github.com/Daninet/hash-wasm">hash-wasm</a> - Hash-WASM is a <g-emoji class="g-emoji" alias="zap" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a1.png">âš¡</g-emoji>  lightning fast<g-emoji class="g-emoji" alias="zap" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a1.png">âš¡</g-emoji>  hash function library for browsers and Node.js. It is using hand-tuned WebAssembly binaries to calculate the hash faster than other libraries.</li>
<li><a href="https://github.com/cloudflare/serde-wasm-bindgen">serde-wasm-bindgen</a> - Native integration of <a href="https://serde.rs" rel="nofollow">Serde</a> with <a href="https://github.com/rustwasm/wasm-bindgen">wasm-bindgen</a></li>
<li><a href="https://github.com/sycamore-rs/sycamore">sycamore</a> - A reactive DOM library for Rust in WASM.</li>
<li><a href="https://github.com/samthor/gumnut">gumnut</a> - JS parser in Web Assembly / C.</li>
<li><a href="https://github.com/Birch-san/box2d-wasm">box2d-wasm</a> - Box2D physics engine compiled to WebAssembly. Supports TypeScript and ES modules.</li>
<li><a href="https://github.com/tensorflow/tfjs">TensorFlow.js</a> - A WebGL accelerated JavaScript library for training and deploying ML models.</li>
</ul>
<h2>Article</h2>
<ul>
<li><a href="https://lencx.github.io/book/wasm/rust_wasm_frontend.html" rel="nofollow">WebAssemblyå…¥é—¨</a></li>
<li><a href="https://www.yuque.com/kiwenlau/blog/zg3349" rel="nofollow">åå¹´ç£¨ä¸€å‰‘ï¼ŒWebAssemblyæ˜¯å¦‚ä½•è¯ç”Ÿçš„ï¼Ÿ</a></li>
<li><a href="https://surma.dev/things/js-to-asc/" rel="nofollow">Is WebAssembly magic performance pixie dust?</a></li>
<li><a href="https://www.edx.org/course/webassembly-actors-from-cloud-to-edge" rel="nofollow">WebAssembly Actors: From Cloud to Edge</a> - Embrace the actor model to build portable, secure, lightweight WebAssembly modules that thrive in the cloud, at the edge, and anywhere in between.</li>
<li><a href="https://blog.ttulka.com/learning-webassembly-series" rel="nofollow">Learning WebAssembly Series</a> - A series of learning texts covering the first steps with WebAssembly for complete beginners.</li>
<li><a href="https://blog.scottlogic.com/2020/11/23/ffmpeg-webassembly.html" rel="nofollow">In-browser transcoding of video files with FFmpeg and WebAssembly</a></li>
<li>[Standardizing WASI: A system interface to run WebAssembly outside the web] - (<a href="https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface" rel="nofollow">https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface</a>)</li>
<li><a href="https://paulbutler.org/2020/the-webassembly-app-gap" rel="nofollow">The WebAssembly App Gap</a></li>
<li><a href="https://developer.ibm.com/articles/why-webassembly-and-rust-together-improve-nodejs-performance" rel="nofollow">Why using WebAssembly and Rust together improves Node.js performance</a></li>
<li><a href="https://v8.dev/docs/wasm-compilation-pipeline" rel="nofollow">[V8] WebAssembly compilation pipeline</a></li>
<li><a href="https://pspdfkit.com/blog/2018/optimize-webassembly-startup-performance/" rel="nofollow">Optimizing WebAssembly Startup Time</a></li>
<li><a href="https://www.cs.cornell.edu/courses/cs6120/2019fa/blog/wasm/" rel="nofollow">Bringing You Up to Speed on How Compiling WebAssembly is Faster</a></li>
</ul>]]></description>
</item>
<item>
  <title><![CDATA[lencx çš„ vscode é…ç½®]]></title>
  <link>https://github.com/lencx/fzj/discussions/41</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/41</guid>
  <pubDate>2021-06-23</pubDate>
  <description><![CDATA[<h2>Theme</h2>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ahmadawais.shades-of-purple" rel="nofollow">Shades of Purple</a> - <g-emoji class="g-emoji" alias="unicorn" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f984.png">ğŸ¦„</g-emoji> A professional theme suite with hand-picked &amp; bold shades of purple for your VS Code editor and terminal apps. One of the excellent, most downloaded, and top-rated VSCode Themes on the marketplace. Part of VSCode.pro course.</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme" rel="nofollow">Material Icon Theme</a> - Material Design Icons for Visual Studio Code</li>
</ul>
<h2>Terminal</h2>
<ul>
<li><a href="https://ohmyz.sh" rel="nofollow">Oh My Zsh</a> - Unleash your terminal like never before.</li>
<li><a href="https://github.com/starship/starship">starship</a> - <g-emoji class="g-emoji" alias="comet" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2604.png">â˜„</g-emoji><g-emoji class="g-emoji" alias="milky_way" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f30c.png">ğŸŒŒï¸</g-emoji> The minimal, blazing-fast, and infinitely customizable prompt for any shell!</li>
</ul>
<h2>Extensions</h2>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree" rel="nofollow">Todo Tree</a> - Show TODO, FIXME, etc. comment tags in a tree view</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=kisstkondoros.vscode-gutter-preview" rel="nofollow">Image preview</a> - Shows image preview in the gutter and on hover</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=SimonSiefke.svg-preview" rel="nofollow">Svg Preview</a> - Preview for Svg files</li>
</ul>]]></description>
</item>
<item>
  <title><![CDATA[é€šç”¨ - ç»„ä»¶ & åº“]]></title>
  <link>https://github.com/lencx/fzj/discussions/36</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/36</guid>
  <pubDate>2021-06-23</pubDate>
  <description><![CDATA[<h2>slider</h2>
<ul>
<li><a href="https://github.com/naver/egjs-flicking">@egjs/flicking</a> - <g-emoji class="g-emoji" alias="carousel_horse" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3a0.png">ğŸ </g-emoji> <g-emoji class="g-emoji" alias="recycle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/267b.png">â™»ï¸</g-emoji> Everyday 30 million people experience. It's reliable, flexible and extendable carousel.</li>
</ul>
<h2>library</h2>
<ul>
<li><a href="https://github.com/zenorocha/clipboard.js">clipboard.js</a> - <g-emoji class="g-emoji" alias="scissors" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2702.png">âœ‚ï¸</g-emoji> Modern copy to clipboard. No Flash. Just 3kb gzipped <g-emoji class="g-emoji" alias="clipboard" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cb.png">ğŸ“‹</g-emoji></li>
</ul>]]></description>
</item>
<item>
  <title><![CDATA[React ç³»åˆ—]]></title>
  <link>https://github.com/lencx/fzj/discussions/35</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/35</guid>
  <pubDate>2021-06-24</pubDate>
  <description><![CDATA[<h2>Hooks</h2>
<ul>
<li><a href="https://github.com/rehooks/awesome-react-hooks">awesome-react-hooks</a> - Awesome React Hooks</li>
<li><a href="https://github.com/streamich/react-use">react-use</a>- React Hooks â€” <g-emoji class="g-emoji" alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png">ğŸ‘</g-emoji></li>
</ul>

<h2>Components</h2>
<ul>
<li><a href="https://github.com/brillout/awesome-react-components"><g-emoji class="g-emoji" alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png">ğŸš€</g-emoji> Absolutely Awesome React Components &amp; Libraries</a> - Curated List of React Components &amp; Libraries.</li>
<li><a href="https://github.com/JedWatson/react-select">react-select</a> - The Select Component for React.js</li>
<li><a href="https://github.com/fkhadra/react-toastify">react-toastify</a> - React notification made easy <g-emoji class="g-emoji" alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png">ğŸš€</g-emoji> !</li>
<li><a href="https://github.com/atlassian/react-beautiful-dnd">react-beautiful-dnd</a> - Beautiful and accessible drag and drop for lists with React.</li>
</ul>]]></description>
</item>
<item>
  <title><![CDATA[ç½‘ç«™æ€§èƒ½ä¼˜åŒ–ç³»åˆ—]]></title>
  <link>https://github.com/lencx/fzj/discussions/39</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/39</guid>
  <pubDate>2021-06-23</pubDate>
  <description><![CDATA[<ul>
<li><a href="https://michaelscodingspot.com/javascript-performance-apis/" rel="nofollow">New browser APIs to detect JavaScript performance problems in production</a></li>
</ul>]]></description>
</item>
<item>
  <title><![CDATA[å…³äº requestIdleCallback]]></title>
  <link>https://github.com/lencx/fzj/discussions/38</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/38</guid>
  <pubDate>2021-06-22</pubDate>
  <description><![CDATA[<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestIdleCallback" rel="nofollow">[MDN] requestIdleCallback</a></li>
<li><a href="https://developers.google.com/web/updates/2015/08/using-requestidlecallback" rel="nofollow">Using requestIdleCallback</a></li>
<li><a href="https://docs.w3cub.com/dom/window/requestidlecallback" rel="nofollow">[W3cubDocs] window.requestIdleCallback</a></li>
</ul>]]></description>
</item>
<item>
  <title><![CDATA[JavaScript ç³»åˆ—]]></title>
  <link>https://github.com/lencx/fzj/discussions/33</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/33</guid>
  <pubDate>2021-06-21</pubDate>
  <description><![CDATA[<p>JavaScript ( JS ) æ˜¯ä¸€ç§å…·æœ‰ <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/First-class_Function" rel="nofollow">å‡½æ•°ä¼˜å…ˆ</a> çš„è½»é‡çº§ï¼Œè§£é‡Šå‹æˆ–å³æ—¶ç¼–è¯‘å‹çš„ç¼–ç¨‹è¯­è¨€ã€‚JavaScript æ˜¯ä¸€ç§åŸºäº <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Prototype-based_programming" rel="nofollow">åŸå‹ç¼–ç¨‹</a>ã€å¤šèŒƒå¼çš„åŠ¨æ€è„šæœ¬è¯­è¨€ï¼Œå¹¶ä¸”æ”¯æŒé¢å‘å¯¹è±¡ã€å‘½ä»¤å¼å’Œå£°æ˜å¼ï¼ˆå¦‚å‡½æ•°å¼ç¼–ç¨‹ï¼‰é£æ ¼ã€‚</p>
<hr>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> JavaScript æ˜¯ä»€ä¹ˆï¼Ÿå¯ä»¥åšä»€ä¹ˆï¼Ÿ
<ul>
<li><a href="https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/get-started/ch1.md">[You Don't Know JS] What Is JavaScript?</a></li>
</ul>
</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> æ„æˆ JavaScript çš„ â€œç –å—â€ - å¸¸è§ç±»å‹çš„ä»£ç å—ï¼Œå¦‚æ¡ä»¶è¯­å¥ã€å¾ªç¯ã€å‡½æ•°åŠäº‹ä»¶ç­‰ã€‚</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> JavaScript å¯¹è±¡åˆå§‹ - å¯¹è±¡çš„è®¾è®¡æ€æƒ³å’Œè¯­æ³•ï¼Œå¦‚ä½•åˆ›å»ºå¯¹è±¡ç­‰ã€‚</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> å¼‚æ­¥ JavaScript - æ€æ ·ä½¿ç”¨å¼‚æ­¥æ¥æœ‰æ•ˆå¤„ç†æ½œåœ¨çš„é˜»å¡æ“ä½œï¼Œæ¯”å¦‚ä»æœåŠ¡å™¨ä¸Šè·å–èµ„æºã€‚</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> å®¢æˆ·ç«¯ Web API</li>
</ul>]]></description>
</item>
<item>
  <title><![CDATA[TODO]]></title>
  <link>https://github.com/lencx/fzj/discussions/20</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/20</guid>
  <pubDate>2021-06-19</pubDate>
  <description><![CDATA[<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> js å­¦ä¹ è®¡åˆ’</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> ç§»é™¤ fzj token</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebRTC_API" rel="nofollow">WebRTC å­¦ä¹ </a></li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> <a href="https://github.com/lencx/rgd">https://github.com/lencx/rgd</a> - github discussions ç”Ÿæˆ RSS</li>
</ul>
<h3>å¼€æº</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> <code>xc-app</code> - <a href="https://github.com/lencx/create-xc-app/issues/1" data-hovercard-type="issue" data-hovercard-url="/lencx/create-xc-app/issues/1/hovercard">#1 è„šæ‰‹æ¶ä¼˜åŒ–</a></li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> <code>rsw</code> - å¦‚æœåŒ…åé‡å¤ï¼Œå¯åŠ¨ä¼šæŠ¥é”™ <code>npm -g unlink &lt;pkg&gt;</code></li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> <code>rsw</code> - <a href="https://github.com/lencx/vite-plugin-rsw/issues/9" data-hovercard-type="issue" data-hovercard-url="/lencx/vite-plugin-rsw/issues/9/hovercard">#9 rswæ’ä»¶æ¨¡æ¿ç”Ÿæˆ</a></li>
</ul>]]></description>
</item>
<item>
  <title><![CDATA[è¯æ±‡è¡¨ - ä¸­è‹±æ–‡å¯¹ç…§]]></title>
  <link>https://github.com/lencx/fzj/discussions/34</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/34</guid>
  <pubDate>2021-06-17</pubDate>
  <description><![CDATA[<table role="table">
<thead>
<tr>
<th>ä¸­æ–‡</th>
<th>è‹±æ–‡</th>
<th>ç¼©å†™</th>
</tr>
</thead>
<tbody>
<tr>
<td>åº”ç”¨ç¨‹åºæ¥å£</td>
<td>Application Programming Interfaces</td>
<td>API</td>
</tr>
<tr>
<td>ç”¨æˆ·ç•Œé¢</td>
<td>User Interface</td>
<td></td>
</tr>
<tr>
<td>è§£é‡Š</td>
<td>interpret</td>
<td></td>
</tr>
<tr>
<td>ç¼–è¯‘</td>
<td>compile</td>
<td></td>
</tr>
<tr>
<td>å³æ—¶ç¼–è¯‘</td>
<td>just-in-time compiling</td>
<td></td>
</tr>
<tr>
<td>æœåŠ¡å™¨ç«¯</td>
<td>server-side</td>
<td></td>
</tr>
<tr>
<td>å®¢æˆ·ç«¯</td>
<td>client-side</td>
<td></td>
</tr>
</tbody>
</table>]]></description>
</item>
<item>
  <title><![CDATA[this å…³é”®å­—è¯¦è§£]]></title>
  <link>https://github.com/lencx/fzj/discussions/32</link>
  <guid isPermaLink="false">https://github.com/lencx/fzj/discussions/32</guid>
  <pubDate>2021-06-16</pubDate>
  <description><![CDATA[<h2>å«ä¹‰(Meaning)</h2>
<blockquote>
<p>åœ¨æ„é€ å‡½æ•°å†…éƒ¨éœ€è¦ä½¿ç”¨åˆ°<code>this</code>å…³é”®å­—ã€‚é‚£ä¹ˆï¼Œ<code>this</code>å…³é”®å­—åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ<br>
<code>this</code>æŒ‡å‘å½“å‰çš„è¿è¡Œç¯å¢ƒï¼šåœ¨JavaScriptä¸­ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯åœ¨æŸä¸ªè¿è¡Œç¯å¢ƒä¸­è¿è¡Œï¼Œ<code>this</code>å°±æ˜¯è¿™ä¸ªè¿è¡Œç¯å¢ƒã€‚å¯¹JavaScriptè¯­è¨€æ¥è¯´ï¼Œä¸€åˆ‡çš†å¯¹è±¡ï¼Œè¿è¡Œçš„ç¯å¢ƒä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºæ‰€æœ‰çš„å‡½æ•°æ€»æ˜¯åœ¨æŸä¸ªå¯¹è±¡ä¹‹ä¸­è¿è¡Œï¼Œ<code>this</code>å°±æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚<em>ä½†æ˜¯JavaScriptæ”¯æŒè¿è¡Œç¯å¢ƒåŠ¨æ€åˆ‡æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œthisçš„æŒ‡å‘æ˜¯åŠ¨æ€çš„ï¼Œæ²¡æœ‰åŠæ³•å¯ä»¥äº‹å…ˆç¡®å®šåˆ°åº•æŒ‡å‘å“ªä¸ªå¯¹è±¡</em></p>
<p>ä¾‹ï¼šæœ‰ä¸€ä¸ªå‡½æ•°<code>xOfVal</code>ï¼ŒåŒæ—¶å……å½“<code>a</code>å¯¹è±¡å’Œ<code>b</code>å¯¹è±¡çš„<code>say</code>æ–¹æ³•ï¼Œç”¨äºæ‰“å°å½“å‰è¿è¡Œç¯å¢ƒä¸­<code>x</code>å˜é‡çš„å€¼ã€‚JavaScriptå…è®¸å‡½æ•°<code>xOfVal</code>çš„è¿è¡Œç¯å¢ƒåŠ¨æ€åˆ‡æ¢ï¼Œå³ä¸€ä¼šå±äº<code>a</code>å¯¹è±¡ï¼Œä¸€ä¼šå±äº<code>b</code>å¯¹è±¡ï¼Œè¿™å°±éœ€è¦é <code>this</code>å…³é”®å­—æ¥åŠåˆ°</p>
</blockquote>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="function xOfVal() {console.log(this.x)}
var a = {x: 5}
var b = {x: 7}
a.say = xOfVal
b.say = xOfVal
a.say() // 5
b.say() // 7
"><pre><span class="pl-k">function</span> <span class="pl-en">xOfVal</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span><span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">x</span><span class="pl-kos">)</span><span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-s1">a</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span><span class="pl-c1">x</span>: <span class="pl-c1">5</span><span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-s1">b</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span><span class="pl-c1">x</span>: <span class="pl-c1">7</span><span class="pl-kos">}</span>
<span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-c1">say</span> <span class="pl-c1">=</span> <span class="pl-s1">xOfVal</span>
<span class="pl-s1">b</span><span class="pl-kos">.</span><span class="pl-c1">say</span> <span class="pl-c1">=</span> <span class="pl-s1">xOfVal</span>
<span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-en">say</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// 5</span>
<span class="pl-s1">b</span><span class="pl-kos">.</span><span class="pl-en">say</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// 7</span></pre></div>
<p>å½“<code>xOfVal</code>å±äºå¯¹è±¡<code>a</code>æ—¶ï¼Œ<code>this</code>æŒ‡å‘<code>a</code>ï¼›å½“<code>xOfVal</code>å±äºå¯¹è±¡<code>b</code>æ—¶ï¼Œ <code>this</code>æŒ‡å‘<code>b</code>ï¼Œ<em>å› æ­¤æ‰“å°å‡ºä¸åŒçš„å€¼</em>ã€‚ç”±äº<code>this</code>çš„æŒ‡å‘æ˜¯å¯å˜çš„ï¼Œæ‰€ä»¥å¯ä»¥æ‰‹åŠ¨åˆ‡æ¢è¿è¡Œç¯å¢ƒï¼Œä»¥è¾¾åˆ°æŸç§ç‰¹å®šçš„ç›®çš„ã€‚</p>
<p><em>ç»“è®º</em>ï¼š<em><strong>å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨å…¨å±€ç¯å¢ƒä¸­è¿è¡Œï¼Œ<code>this</code>å°±æ˜¯æŒ‡å‘é¡¶å±‚å¯¹è±¡(æµè§ˆå™¨ä¸­ä¸º<code>window</code>å¯¹è±¡)ï¼›å¦‚æœä¸€ä¸ªå‡½æ•°ä½œä¸ºæŸä¸ªå¯¹è±¡çš„æ–¹æ³•è¿è¡Œï¼Œ<code>this</code>å°±æ˜¯æŒ‡å‘é‚£ä¸ªå¯¹è±¡ã€‚ å¯ä»¥è¿‘ä¼¼è®¤ä¸ºï¼Œ<code>this</code>äº‹æ‰€æœ‰å‡½æ•°è¿è¡Œæ—¶çš„ä¸€ä¸ªéšè—å‚æ•°ï¼Œå†³å®šäº†å‡½æ•°çš„è¿è¡Œç¯å¢ƒã€‚</strong></em></p>
<h2>ä½¿ç”¨åœºåˆ(Using The Occasion)</h2>
<h3>å…¨å±€ç¯å¢ƒ(Global Context)</h3>
<blockquote>
<p>åœ¨å…¨å±€ç¯å¢ƒä¸­ä½¿ç”¨<code>this</code>ï¼Œå®ƒæŒ‡çš„æ—¶é¡¶å±‚å¯¹è±¡windowã€‚</p>
</blockquote>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="console.log(this === window) // true
function fn() {
    console.log(this === window)
}
fn() // true
"><pre><span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span> <span class="pl-c1">===</span> <span class="pl-smi">window</span><span class="pl-kos">)</span> <span class="pl-c">// true</span>
<span class="pl-k">function</span> <span class="pl-en">fn</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span> <span class="pl-c1">===</span> <span class="pl-smi">window</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>
<span class="pl-en">fn</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// true</span></pre></div>
<p><em>ç»“è®º</em>ï¼š <em><strong><code>this</code>ä¸è®ºæ˜¯ä¸æ˜¯åœ¨å‡½æ•°å†…éƒ¨ï¼Œåªè¦æ˜¯åœ¨å…¨å±€ç¯å¢ƒä¸‹è¿è¡Œï¼Œ<code>this</code>å°±æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡<code>window</code></strong></em></p>
<h3>æ„é€ å‡½æ•°(Constructor)</h3>
<blockquote>
<p>åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨<code>this</code>ï¼Œå®ƒæŒ‡çš„æ˜¯å®ä¾‹å¯¹è±¡</p>
</blockquote>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="// æ„é€ å‡½æ•°A
var A = function(x) {
    // thisæŒ‡å‘å®ä¾‹å¯¹è±¡
    // æ‰€ä»¥åœ¨æ„é€ å‡½æ•°å†…éƒ¨å®šä¹‰`this.x`ï¼Œå°±ç›¸å½“äºå®šä¹‰å®ä¾‹å¯¹è±¡æœ‰ä¸€ä¸ª`x`å±æ€§
    this.x = x
}
// `say`æ–¹æ³•å¯ä»¥è¿”å›è¿™ä¸ª`x`å±æ€§
A.prototype.say = function() {
    return this.x
}
var a = new A(3)
a.x // 3
a.say() // 3
"><pre><span class="pl-c">// æ„é€ å‡½æ•°A</span>
<span class="pl-k">var</span> <span class="pl-v">A</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-s1">x</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-c">// thisæŒ‡å‘å®ä¾‹å¯¹è±¡</span>
    <span class="pl-c">// æ‰€ä»¥åœ¨æ„é€ å‡½æ•°å†…éƒ¨å®šä¹‰`this.x`ï¼Œå°±ç›¸å½“äºå®šä¹‰å®ä¾‹å¯¹è±¡æœ‰ä¸€ä¸ª`x`å±æ€§</span>
    <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">x</span> <span class="pl-c1">=</span> <span class="pl-s1">x</span>
<span class="pl-kos">}</span>
<span class="pl-c">// `say`æ–¹æ³•å¯ä»¥è¿”å›è¿™ä¸ª`x`å±æ€§</span>
<span class="pl-v">A</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-en">say</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">return</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">x</span>
<span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-s1">a</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">A</span><span class="pl-kos">(</span><span class="pl-c1">3</span><span class="pl-kos">)</span>
<span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-c1">x</span> <span class="pl-c">// 3</span>
<span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-en">say</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// 3</span></pre></div>
<h3>å¯¹è±¡æ–¹æ³•(Object Method)</h3>
<ul>
<li>å½“<code>a</code>å¯¹è±¡çš„æ–¹æ³•è¢«èµ‹äºˆ<code>b</code>å¯¹è±¡ï¼Œè¯¥æ–¹æ³•å°±å˜æˆäº†æ™®é€šå‡½æ•°ã€‚å…¶ä¸­çš„<code>this</code>å°±ä»æŒ‡å‘<code>a</code>å¯¹è±¡å˜æˆæŒ‡å‘<code>b</code>å¯¹è±¡ã€‚è¿™å°±æ˜¯<code>this</code>å–å†³äºè¿è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡çš„å«ä¹‰ã€‚<em>éœ€è¦ç‰¹åˆ«å°å¿ƒã€‚å¦‚æœå°†æŸä¸ªå¯¹è±¡çš„æ–¹æ³•èµ‹å€¼ç»™å¦ä¸€ä¸ªå¯¹è±¡ï¼Œä¼šæ”¹å˜<code>this</code>çš„æŒ‡å‘ã€‚</em></li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var a = {
    // `prop`æ˜¯`a`å¯¹è±¡çš„å±æ€§
    prop: 'hello',
    // `f`æ˜¯`a`å¯¹è±¡çš„æ–¹æ³•
    f: function() {
        return this.prop
    }
}
a.f() // hello
var b = new Object()
b.prop = 'hello, lencx'
// `f`æ˜¯`a`å¯¹è±¡çš„æ–¹æ³•
b.f = a.f
// å¦‚æœåœ¨`b`å¯¹è±¡ä¸Šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚`f`æ–¹æ³•ä¸­çš„`this`å°±ä¼šæŒ‡å‘`b`
// è¯´æ˜JavaScriptå‡½æ•°çš„è¿è¡Œç¯å¢ƒå®Œå…¨æ˜¯åŠ¨æ€ç»‘å®šçš„ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶åˆ‡æ¢ã€‚
b.f() // hello, lencx
"><pre><span class="pl-k">var</span> <span class="pl-s1">a</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c">// `prop`æ˜¯`a`å¯¹è±¡çš„å±æ€§</span>
    <span class="pl-c1">prop</span>: <span class="pl-s">'hello'</span><span class="pl-kos">,</span>
    <span class="pl-c">// `f`æ˜¯`a`å¯¹è±¡çš„æ–¹æ³•</span>
    <span class="pl-en">f</span>: <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-k">return</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">prop</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>
<span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-en">f</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// hello</span>
<span class="pl-k">var</span> <span class="pl-s1">b</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Object</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-s1">b</span><span class="pl-kos">.</span><span class="pl-c1">prop</span> <span class="pl-c1">=</span> <span class="pl-s">'hello, lencx'</span>
<span class="pl-c">// `f`æ˜¯`a`å¯¹è±¡çš„æ–¹æ³•</span>
<span class="pl-s1">b</span><span class="pl-kos">.</span><span class="pl-c1">f</span> <span class="pl-c1">=</span> <span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-c1">f</span>
<span class="pl-c">// å¦‚æœåœ¨`b`å¯¹è±¡ä¸Šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚`f`æ–¹æ³•ä¸­çš„`this`å°±ä¼šæŒ‡å‘`b`</span>
<span class="pl-c">// è¯´æ˜JavaScriptå‡½æ•°çš„è¿è¡Œç¯å¢ƒå®Œå…¨æ˜¯åŠ¨æ€ç»‘å®šçš„ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶åˆ‡æ¢ã€‚</span>
<span class="pl-s1">b</span><span class="pl-kos">.</span><span class="pl-en">f</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// hello, lencx</span></pre></div>
<ul>
<li>å¦‚æœä¸æƒ³æ”¹å˜<code>this</code>çš„æŒ‡å‘ï¼Œå¯ä»¥å°†<code>b.f</code>æ”¹å†™ä¸º</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="b.f = function() {
    // `f`æ–¹æ³•æ˜¯åœ¨`a`å¯¹è±¡ä¸‹è¿è¡Œï¼Œæ‰€ä»¥`this`æŒ‡å‘`a`
    return a.f()
}
b.f() // hello
"><pre><span class="pl-s1">b</span><span class="pl-kos">.</span><span class="pl-en">f</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-c">// `f`æ–¹æ³•æ˜¯åœ¨`a`å¯¹è±¡ä¸‹è¿è¡Œï¼Œæ‰€ä»¥`this`æŒ‡å‘`a`</span>
    <span class="pl-k">return</span> <span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-en">f</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>
<span class="pl-s1">b</span><span class="pl-kos">.</span><span class="pl-en">f</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// hello</span></pre></div>
<ul>
<li>æœ‰æ—¶ï¼ŒæŸä¸ªæ–¹æ³•ä½äºå¤šå±‚å¯¹è±¡çš„å†…éƒ¨ï¼Œè¿™æ—¶å¦‚æœä¸ºäº†ç®€åŒ–ä¹¦å†™ï¼ŒæŠŠè¯¥æ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œå¾€å¾€ä¼šå¾—åˆ°æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var a = {
    b: {
        prop: 'hello, lencx',
        say: function() {
            console.log(this.prop)
        }
    }
}
// `say`å±äºå¤šå±‚å¯¹è±¡å†…éƒ¨çš„ä¸€ä¸ªæ–¹æ³•ã€‚ä¸ºæ±‚ç®€å†™ï¼Œå°†å…¶èµ‹å€¼ç»™`hello`å˜é‡
var hello = a.b.say
// è°ƒç”¨æ—¶ï¼Œ`this`æŒ‡å‘å…¨å±€å¯¹è±¡(window)
hello() // undefined
// ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†`say`æ–¹æ³•æ‰€åœ¨çš„å¯¹è±¡èµ‹å€¼ç»™`hello2`
var hello2 = a.b
// è°ƒç”¨æ—¶ï¼Œ`this`æŒ‡å‘ä¸å˜ï¼Œå³æŒ‡å‘å¯¹è±¡`b`
hello2.say()
"><pre><span class="pl-k">var</span> <span class="pl-s1">a</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">b</span>: <span class="pl-kos">{</span>
        <span class="pl-c1">prop</span>: <span class="pl-s">'hello, lencx'</span><span class="pl-kos">,</span>
        <span class="pl-en">say</span>: <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
            <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">prop</span><span class="pl-kos">)</span>
        <span class="pl-kos">}</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>
<span class="pl-c">// `say`å±äºå¤šå±‚å¯¹è±¡å†…éƒ¨çš„ä¸€ä¸ªæ–¹æ³•ã€‚ä¸ºæ±‚ç®€å†™ï¼Œå°†å…¶èµ‹å€¼ç»™`hello`å˜é‡</span>
<span class="pl-k">var</span> <span class="pl-s1">hello</span> <span class="pl-c1">=</span> <span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-c1">b</span><span class="pl-kos">.</span><span class="pl-c1">say</span>
<span class="pl-c">// è°ƒç”¨æ—¶ï¼Œ`this`æŒ‡å‘å…¨å±€å¯¹è±¡(window)</span>
<span class="pl-s1">hello</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// undefined</span>
<span class="pl-c">// ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†`say`æ–¹æ³•æ‰€åœ¨çš„å¯¹è±¡èµ‹å€¼ç»™`hello2`</span>
<span class="pl-k">var</span> <span class="pl-s1">hello2</span> <span class="pl-c1">=</span> <span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-c1">b</span>
<span class="pl-c">// è°ƒç”¨æ—¶ï¼Œ`this`æŒ‡å‘ä¸å˜ï¼Œå³æŒ‡å‘å¯¹è±¡`b`</span>
<span class="pl-s1">hello2</span><span class="pl-kos">.</span><span class="pl-en">say</span><span class="pl-kos">(</span><span class="pl-kos">)</span></pre></div>
<h3>ç®­å¤´å‡½æ•°(Arrow functions)</h3>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var foo = (() =&gt; this)
// åœ¨å…¨å±€ç¯å¢ƒä¸­è°ƒç”¨`foo`ï¼Œ`this`æŒ‡å‘`window`
console.log(foo() === window) // true
var a = {}
// ä½œä¸º`a`å¯¹è±¡çš„`fn`æ–¹æ³•è°ƒç”¨
a.fn = foo
console.log(a.fn() === window) // true
// ä½¿ç”¨`call`
console.log(foo.call(a) === window) // true
// ä½¿ç”¨`bind`
foo = foo.bind(a)
console.log(foo() === window) // true
"><pre><span class="pl-k">var</span> <span class="pl-s1">foo</span> <span class="pl-c1">=</span> <span class="pl-kos">(</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-smi">this</span><span class="pl-kos">)</span>
<span class="pl-c">// åœ¨å…¨å±€ç¯å¢ƒä¸­è°ƒç”¨`foo`ï¼Œ`this`æŒ‡å‘`window`</span>
<span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">foo</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">===</span> <span class="pl-smi">window</span><span class="pl-kos">)</span> <span class="pl-c">// true</span>
<span class="pl-k">var</span> <span class="pl-s1">a</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span><span class="pl-kos">}</span>
<span class="pl-c">// ä½œä¸º`a`å¯¹è±¡çš„`fn`æ–¹æ³•è°ƒç”¨</span>
<span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-c1">fn</span> <span class="pl-c1">=</span> <span class="pl-s1">foo</span>
<span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">a</span><span class="pl-kos">.</span><span class="pl-en">fn</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">===</span> <span class="pl-smi">window</span><span class="pl-kos">)</span> <span class="pl-c">// true</span>
<span class="pl-c">// ä½¿ç”¨`call`</span>
<span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">foo</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-s1">a</span><span class="pl-kos">)</span> <span class="pl-c1">===</span> <span class="pl-smi">window</span><span class="pl-kos">)</span> <span class="pl-c">// true</span>
<span class="pl-c">// ä½¿ç”¨`bind`</span>
<span class="pl-s1">foo</span> <span class="pl-c1">=</span> <span class="pl-s1">foo</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-s1">a</span><span class="pl-kos">)</span>
<span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">foo</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">===</span> <span class="pl-smi">window</span><span class="pl-kos">)</span> <span class="pl-c">// true</span></pre></div>
<p><em>ç»“è®º</em>ï¼š<em><strong>æ— è®ºä½¿ç”¨ä½•ç§åŠæ³•ï¼Œ<code>foo</code>æ–¹æ³•çš„<code>this</code>æŒ‡å‘éƒ½æ˜¯åˆ›å»ºæ—¶çš„æŒ‡å‘(window)ã€‚è¿™ä¸ªç»“è®ºåŒæ ·é€‚ç”¨äºåœ¨å…¶ä»–å‡½æ•°å†…éƒ¨åˆ›å»ºçš„ç®­å¤´å‡½æ•°ã€‚<code>this</code>æŒ‡å‘åˆ›å»ºå®ƒçš„å¯¹è±¡ã€‚</strong></em></p>
<p>ä¾‹ï¼š</p>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var obj = {foo: function() {
    var x = (() =&gt; this)
    // var x = function() {
    //     return this
    // }
    return x
}}
var fn = obj.foo()
console.log(fn() === obj) // true
// ä½†æ˜¯è¯·æ³¨æ„ï¼Œå¦‚æœå°†`foo`æ‰€åœ¨çš„å¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡`fn2`ï¼Œè€Œä¸æ˜¯è°ƒç”¨`foo`æ–¹æ³•
var fn2 = obj.foo
// ç„¶åè°ƒç”¨è¯¥æ–¹æ³•ï¼Œåˆ™`this`æŒ‡å‘`window`ï¼Œå› ä¸ºå®ƒéµå¾ªæ‰€åœ¨çš„å¯¹è±¡è¿è¡Œç¯å¢ƒ
console.log(fn2()() === window) // true
"><pre><span class="pl-k">var</span> <span class="pl-s1">obj</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span><span class="pl-en">foo</span>: <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">var</span> <span class="pl-s1">x</span> <span class="pl-c1">=</span> <span class="pl-kos">(</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-smi">this</span><span class="pl-kos">)</span>
    <span class="pl-c">// var x = function() {</span>
    <span class="pl-c">//     return this</span>
    <span class="pl-c">// }</span>
    <span class="pl-k">return</span> <span class="pl-s1">x</span>
<span class="pl-kos">}</span><span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-s1">fn</span> <span class="pl-c1">=</span> <span class="pl-s1">obj</span><span class="pl-kos">.</span><span class="pl-en">foo</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">fn</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">===</span> <span class="pl-s1">obj</span><span class="pl-kos">)</span> <span class="pl-c">// true</span>
<span class="pl-c">// ä½†æ˜¯è¯·æ³¨æ„ï¼Œå¦‚æœå°†`foo`æ‰€åœ¨çš„å¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡`fn2`ï¼Œè€Œä¸æ˜¯è°ƒç”¨`foo`æ–¹æ³•</span>
<span class="pl-k">var</span> <span class="pl-s1">fn2</span> <span class="pl-c1">=</span> <span class="pl-s1">obj</span><span class="pl-kos">.</span><span class="pl-c1">foo</span>
<span class="pl-c">// ç„¶åè°ƒç”¨è¯¥æ–¹æ³•ï¼Œåˆ™`this`æŒ‡å‘`window`ï¼Œå› ä¸ºå®ƒéµå¾ªæ‰€åœ¨çš„å¯¹è±¡è¿è¡Œç¯å¢ƒ</span>
<span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">fn2</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">===</span> <span class="pl-smi">window</span><span class="pl-kos">)</span> <span class="pl-c">// true</span></pre></div>
<h3>å¯¹è±¡å®šä¹‰æ–°å±æ€§æ–¹æ³•(Getter Or Setter)</h3>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="function sum() {
    return this.x + this.y + this.z
}
var numObj = {
    x: 3,
    y: 5,
    z: 7,
    get average() {
        return (this.x + this.y + this.z) / 3
    }
}
Object.defineProperty(numObj, 'sum', {
    get: sum,
    enumerable: true,
    configurable: true
})
console.log(numObj.average, numObj.sum) // 5 15
"><pre><span class="pl-k">function</span> <span class="pl-en">sum</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">return</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">x</span> <span class="pl-c1">+</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">y</span> <span class="pl-c1">+</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">z</span>
<span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-s1">numObj</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">x</span>: <span class="pl-c1">3</span><span class="pl-kos">,</span>
    <span class="pl-c1">y</span>: <span class="pl-c1">5</span><span class="pl-kos">,</span>
    <span class="pl-c1">z</span>: <span class="pl-c1">7</span><span class="pl-kos">,</span>
    <span class="pl-k">get</span> <span class="pl-en">average</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-k">return</span> <span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">x</span> <span class="pl-c1">+</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">y</span> <span class="pl-c1">+</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">z</span><span class="pl-kos">)</span> <span class="pl-c1">/</span> <span class="pl-c1">3</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>
<span class="pl-v">Object</span><span class="pl-kos">.</span><span class="pl-en">defineProperty</span><span class="pl-kos">(</span><span class="pl-s1">numObj</span><span class="pl-kos">,</span> <span class="pl-s">'sum'</span><span class="pl-kos">,</span> <span class="pl-kos">{</span>
    <span class="pl-c1">get</span>: <span class="pl-s1">sum</span><span class="pl-kos">,</span>
    <span class="pl-c1">enumerable</span>: <span class="pl-c1">true</span><span class="pl-kos">,</span>
    <span class="pl-c1">configurable</span>: <span class="pl-c1">true</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span>
<span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">numObj</span><span class="pl-kos">.</span><span class="pl-c1">average</span><span class="pl-kos">,</span> <span class="pl-s1">numObj</span><span class="pl-kos">.</span><span class="pl-c1">sum</span><span class="pl-kos">)</span> <span class="pl-c">// 5 15</span></pre></div>
<h3>Node.js</h3>
<p>åœ¨node.jsï¼Œ<code>this</code>åˆ†æˆä¸¤ç§æƒ…å†µã€‚åœ¨å…¨å±€ç¯å¢ƒä¸­ï¼Œ<code>this</code>æŒ‡å‘å…¨å±€å¯¹è±¡<code>global</code>ï¼›åœ¨æ¨¡å—ç¯å¢ƒä¸­ï¼Œ<code>this</code>æŒ‡å‘<code>module.exports</code></p>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="// å…¨å±€ç¯å¢ƒä¸­
this === global // true
// æ¨¡å—ç¯å¢ƒä¸­
this === module.exports // true
"><pre><span class="pl-c">// å…¨å±€ç¯å¢ƒä¸­</span>
<span class="pl-smi">this</span> <span class="pl-c1">===</span> <span class="pl-s1">global</span> <span class="pl-c">// true</span>
<span class="pl-c">// æ¨¡å—ç¯å¢ƒä¸­</span>
<span class="pl-smi">this</span> <span class="pl-c1">===</span> <span class="pl-smi">module</span><span class="pl-kos">.</span><span class="pl-c1">exports</span> <span class="pl-c">// true</span></pre></div>
<h2>ä½¿ç”¨æ³¨æ„äº‹é¡¹(Note)</h2>
<h3>é¿å…å¤šå±‚<code>this</code></h3>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var o = {
    f1: function() {
        console.log(this) // f1
        var f2 = function() {
            console.log(this) // window
        }()
    }
}
o.f1()
// è§£å†³åŠæ³•:
var o2 = {
    f1: function() {
        console.log(this) // f1
        // ä½¿ç”¨`that`å¯¹`this`è¿›è¡Œå›ºå®š
        var that = this
        var f2 = function() {
            // ä½¿ç”¨`that`ä»£æ›¿åŸæ¥çš„`this`
            console.log(that) // f1
        }()
    }
}
o2.f1()
"><pre><span class="pl-k">var</span> <span class="pl-s1">o</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-en">f1</span>: <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">)</span> <span class="pl-c">// f1</span>
        <span class="pl-k">var</span> <span class="pl-s1">f2</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
            <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">)</span> <span class="pl-c">// window</span>
        <span class="pl-kos">}</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>
<span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-en">f1</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-c">// è§£å†³åŠæ³•:</span>
<span class="pl-k">var</span> <span class="pl-s1">o2</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-en">f1</span>: <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">)</span> <span class="pl-c">// f1</span>
        <span class="pl-c">// ä½¿ç”¨`that`å¯¹`this`è¿›è¡Œå›ºå®š</span>
        <span class="pl-k">var</span> <span class="pl-s1">that</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span>
        <span class="pl-k">var</span> <span class="pl-s1">f2</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
            <span class="pl-c">// ä½¿ç”¨`that`ä»£æ›¿åŸæ¥çš„`this`</span>
            <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">that</span><span class="pl-kos">)</span> <span class="pl-c">// f1</span>
        <span class="pl-kos">}</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>
<span class="pl-s1">o2</span><span class="pl-kos">.</span><span class="pl-en">f1</span><span class="pl-kos">(</span><span class="pl-kos">)</span></pre></div>
<h3>é¿å…æ•°ç»„å¤„ç†æ–¹æ³•ä¸­çš„<code>this</code></h3>
<p>æ•°ç»„çš„<code>map</code>, <code>reduce</code>, <code>some</code>, <code>filter</code>, <code>forEach</code>ç­‰æ–¹æ³•ï¼Œå…è®¸æä¾›ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªå‡½æ•°å†…éƒ¨ä¸åº”è¯¥ä½¿ç”¨<code>this</code>ã€‚</p>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var o = {
    a: 'hello',
    b: ['lencx', 'a1', 'a2'],
    fn: function() {
        this.b.map(function(item) {
            console.log(`${this.a}, ${item}`)
        })
    }
}
// undefined, lencx
// undefined, a1
// undefined, a2
o.fn()
// ------------------------------------------
// è§£å†³åŠæ³•ä¸€ï¼š
// ä½¿ç”¨ä¸­é—´å˜é‡
var o2 = {
    a: 'hello',
    b: ['lencx', 'a1', 'a2'],
    fn: function() {
        var that = this
        this.b.map(function(item) {
            console.log(`${that.a}, ${item}`)
        })
    }
}
// hello, lencx
// hello, a1
// hello, a2
o2.f()
// ------------------------------------------
// è§£å†³åŠæ³•äºŒï¼š
// å°†`this`å½“ä½œ`map`æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå›ºå®šå®ƒçš„è¿è¡Œç¯å¢ƒ
var o3 = {
    a: 'hello',
    b: ['lencx', 'a1', 'a2'],
    fn: function() {
        this.b.map(function(item) {
            console.log(`${this.a}, ${item}`)
        }, this)
    }
}
// hello, lencx
// hello, a1
// hello, a2
o3.fn()
"><pre><span class="pl-k">var</span> <span class="pl-s1">o</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">a</span>: <span class="pl-s">'hello'</span><span class="pl-kos">,</span>
    <span class="pl-c1">b</span>: <span class="pl-kos">[</span><span class="pl-s">'lencx'</span><span class="pl-kos">,</span> <span class="pl-s">'a1'</span><span class="pl-kos">,</span> <span class="pl-s">'a2'</span><span class="pl-kos">]</span><span class="pl-kos">,</span>
    <span class="pl-en">fn</span>: <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">b</span><span class="pl-kos">.</span><span class="pl-en">map</span><span class="pl-kos">(</span><span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-s1">item</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
            <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">`<span class="pl-s1"><span class="pl-kos">${</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">a</span><span class="pl-kos">}</span></span>, <span class="pl-s1"><span class="pl-kos">${</span><span class="pl-s1">item</span><span class="pl-kos">}</span></span>`</span><span class="pl-kos">)</span>
        <span class="pl-kos">}</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>
<span class="pl-c">// undefined, lencx</span>
<span class="pl-c">// undefined, a1</span>
<span class="pl-c">// undefined, a2</span>
<span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-en">fn</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-c">// ------------------------------------------</span>
<span class="pl-c">// è§£å†³åŠæ³•ä¸€ï¼š</span>
<span class="pl-c">// ä½¿ç”¨ä¸­é—´å˜é‡</span>
<span class="pl-k">var</span> <span class="pl-s1">o2</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">a</span>: <span class="pl-s">'hello'</span><span class="pl-kos">,</span>
    <span class="pl-c1">b</span>: <span class="pl-kos">[</span><span class="pl-s">'lencx'</span><span class="pl-kos">,</span> <span class="pl-s">'a1'</span><span class="pl-kos">,</span> <span class="pl-s">'a2'</span><span class="pl-kos">]</span><span class="pl-kos">,</span>
    <span class="pl-en">fn</span>: <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-k">var</span> <span class="pl-s1">that</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">b</span><span class="pl-kos">.</span><span class="pl-en">map</span><span class="pl-kos">(</span><span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-s1">item</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
            <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">`<span class="pl-s1"><span class="pl-kos">${</span><span class="pl-s1">that</span><span class="pl-kos">.</span><span class="pl-c1">a</span><span class="pl-kos">}</span></span>, <span class="pl-s1"><span class="pl-kos">${</span><span class="pl-s1">item</span><span class="pl-kos">}</span></span>`</span><span class="pl-kos">)</span>
        <span class="pl-kos">}</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>
<span class="pl-c">// hello, lencx</span>
<span class="pl-c">// hello, a1</span>
<span class="pl-c">// hello, a2</span>
<span class="pl-s1">o2</span><span class="pl-kos">.</span><span class="pl-en">f</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-c">// ------------------------------------------</span>
<span class="pl-c">// è§£å†³åŠæ³•äºŒï¼š</span>
<span class="pl-c">// å°†`this`å½“ä½œ`map`æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå›ºå®šå®ƒçš„è¿è¡Œç¯å¢ƒ</span>
<span class="pl-k">var</span> <span class="pl-s1">o3</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">a</span>: <span class="pl-s">'hello'</span><span class="pl-kos">,</span>
    <span class="pl-c1">b</span>: <span class="pl-kos">[</span><span class="pl-s">'lencx'</span><span class="pl-kos">,</span> <span class="pl-s">'a1'</span><span class="pl-kos">,</span> <span class="pl-s">'a2'</span><span class="pl-kos">]</span><span class="pl-kos">,</span>
    <span class="pl-en">fn</span>: <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">b</span><span class="pl-kos">.</span><span class="pl-en">map</span><span class="pl-kos">(</span><span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-s1">item</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
            <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">`<span class="pl-s1"><span class="pl-kos">${</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">a</span><span class="pl-kos">}</span></span>, <span class="pl-s1"><span class="pl-kos">${</span><span class="pl-s1">item</span><span class="pl-kos">}</span></span>`</span><span class="pl-kos">)</span>
        <span class="pl-kos">}</span><span class="pl-kos">,</span> <span class="pl-smi">this</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>
<span class="pl-c">// hello, lencx</span>
<span class="pl-c">// hello, a1</span>
<span class="pl-c">// hello, a2</span>
<span class="pl-s1">o3</span><span class="pl-kos">.</span><span class="pl-en">fn</span><span class="pl-kos">(</span><span class="pl-kos">)</span></pre></div>
<h3>é¿å…å›è°ƒå‡½æ•°ä¸­çš„<code>this</code></h3>
<blockquote>
<p>å›è°ƒå‡½æ•°ä¸­çš„<code>this</code>å¾€å¾€ä¼šæ”¹å˜æŒ‡å‘ï¼Œæœ€å¥½é¿å…ä½¿ç”¨</p>
</blockquote>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var o = new Object()
o.f = function() {
    console.log(this === o)
}
o.f() // true
// `this`ä¸å†æŒ‡å‘`o`å¯¹è±¡ï¼Œè€Œæ˜¯æŒ‡å‘æŒ‰é’®çš„DOMå¯¹è±¡
// å› ä¸º`f`æ–¹æ³•æ˜¯åœ¨æŒ‰é’®å¯¹è±¡çš„ç¯å¢ƒä¸­è¢«è°ƒç”¨çš„
document.querySelector('#btn').addEventListener('click', o.f)
"><pre><span class="pl-k">var</span> <span class="pl-s1">o</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Object</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-en">f</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span> <span class="pl-c1">===</span> <span class="pl-s1">o</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>
<span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-en">f</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// true</span>
<span class="pl-c">// `this`ä¸å†æŒ‡å‘`o`å¯¹è±¡ï¼Œè€Œæ˜¯æŒ‡å‘æŒ‰é’®çš„DOMå¯¹è±¡</span>
<span class="pl-c">// å› ä¸º`f`æ–¹æ³•æ˜¯åœ¨æŒ‰é’®å¯¹è±¡çš„ç¯å¢ƒä¸­è¢«è°ƒç”¨çš„</span>
<span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-en">querySelector</span><span class="pl-kos">(</span><span class="pl-s">'#btn'</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">addEventListener</span><span class="pl-kos">(</span><span class="pl-s">'click'</span><span class="pl-kos">,</span> <span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-c1">f</span><span class="pl-kos">)</span></pre></div>
<h2>å›ºå®š<code>this</code>çš„æ–¹æ³•(Fixed this)</h2>
<p><code>this</code>çš„åŠ¨æ€åˆ‡æ¢ï¼Œä¸ºJavaScriptåˆ›é€ äº†å·¨å¤§çš„çµæ´»æ€§ï¼Œä½†ä¹Ÿä½¿ç¼–ç¨‹å˜å¾—å›°éš¾å’Œæ¨¡ç³Šã€‚æœ‰æ—¶éœ€è¦æŠŠ<code>this</code>å›ºå®šä¸‹æ¥ï¼Œé¿å…å‡ºç°æ„æƒ³ä¸åˆ°çš„æƒ…å†µã€‚JavaScriptæä¾›äº†<code>call</code>, <code>apply</code>, <code>bind</code>ä¸‰ä¸ªæ–¹æ³•ï¼Œæ¥åˆ‡æ¢/å›ºå®š<code>this</code>çš„æŒ‡å‘ã€‚</p>
<h3><code>call</code>æ–¹æ³•</h3>
<blockquote>
<p>Syntax: function.call(thisArg, arg1, arg2, ...)<br>
ç¬¬ä¸€ä¸ªå‚æ•°<code>thisArg</code>å°±æ˜¯<code>this</code>æ‰€è¦æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹‹åçš„å‚æ•°<code>arg1, arg2, ...</code>åˆ™æ˜¯å‡½æ•°è°ƒç”¨æ—¶æ‰€éœ€çš„å‚æ•°ã€‚</p>
</blockquote>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="// ä¾‹1:
var o = {}
var f = function () {
    return this
}
f() === window // true
f.call(o) === o // true
// ä¾‹2:
var num = 111
var num2 = {num: 222}
function sayNum() {
    console.log(this.num)
}
sayNum.call() // 111
sayNum.call(window) // 111
sayNum.call(num2) // 222
"><pre><span class="pl-c">// ä¾‹1:</span>
<span class="pl-k">var</span> <span class="pl-s1">o</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span><span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-en">f</span> <span class="pl-c1">=</span> <span class="pl-k">function</span> <span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">return</span> <span class="pl-smi">this</span>
<span class="pl-kos">}</span>
<span class="pl-en">f</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">===</span> <span class="pl-smi">window</span> <span class="pl-c">// true</span>
<span class="pl-en">f</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-s1">o</span><span class="pl-kos">)</span> <span class="pl-c1">===</span> <span class="pl-s1">o</span> <span class="pl-c">// true</span>
<span class="pl-c">// ä¾‹2:</span>
<span class="pl-k">var</span> <span class="pl-s1">num</span> <span class="pl-c1">=</span> <span class="pl-c1">111</span>
<span class="pl-k">var</span> <span class="pl-s1">num2</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span><span class="pl-c1">num</span>: <span class="pl-c1">222</span><span class="pl-kos">}</span>
<span class="pl-k">function</span> <span class="pl-en">sayNum</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">num</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>
<span class="pl-s1">sayNum</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// 111</span>
<span class="pl-s1">sayNum</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-smi">window</span><span class="pl-kos">)</span> <span class="pl-c">// 111</span>
<span class="pl-s1">sayNum</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-s1">num2</span><span class="pl-kos">)</span> <span class="pl-c">// 222</span></pre></div>
<p><code>call</code>çš„åº”ç”¨ï¼šè°ƒç”¨å¯¹è±¡çš„åŸç”Ÿæ–¹æ³•</p>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var obj = {}
obj.hasOwnProperty('map') // false
obj.hasOwnProperty = function() {
    return true
}
obj.hasOwnProperty('map') // true
Object.prototype.hasOwnProperty.call(obj, 'map') // false
"><pre><span class="pl-k">var</span> <span class="pl-s1">obj</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span><span class="pl-kos">}</span>
<span class="pl-s1">obj</span><span class="pl-kos">.</span><span class="pl-en">hasOwnProperty</span><span class="pl-kos">(</span><span class="pl-s">'map'</span><span class="pl-kos">)</span> <span class="pl-c">// false</span>
<span class="pl-s1">obj</span><span class="pl-kos">.</span><span class="pl-en">hasOwnProperty</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">return</span> <span class="pl-c1">true</span>
<span class="pl-kos">}</span>
<span class="pl-s1">obj</span><span class="pl-kos">.</span><span class="pl-en">hasOwnProperty</span><span class="pl-kos">(</span><span class="pl-s">'map'</span><span class="pl-kos">)</span> <span class="pl-c">// true</span>
<span class="pl-v">Object</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">hasOwnProperty</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-s1">obj</span><span class="pl-kos">,</span> <span class="pl-s">'map'</span><span class="pl-kos">)</span> <span class="pl-c">// false</span></pre></div>
<p><code>hasOwnProperty</code>æ˜¯<code>obj</code>å¯¹è±¡ç»§æ‰¿çš„æ–¹æ³•ï¼Œå¦‚æœè¿™ä¸ªæ–¹æ³•ä¸€æ—¦è¢«è¦†ç›–ï¼Œå°±å¾—ä¸åˆ°æ­£ç¡®çš„ç»“æœã€‚<code>call</code>æ–¹æ³•åˆ™å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®ƒå°†<code>hasOwnProperty</code>æ–¹æ³•çš„åŸå§‹å®šä¹‰æ”¾åˆ°<code>obj</code>å¯¹è±¡ä¸Šæ‰§è¡Œï¼Œè¿™æ ·æ— è®º<code>obj</code>ä¸Šæœ‰æ²¡æœ‰åŒåæ–¹æ³•ï¼Œéƒ½ä¸ä¼šå½±å“å…¶ç»“æœã€‚</p>
<h3><code>apply</code>æ–¹æ³•</h3>
<blockquote>
<p>Syntax: func.apply(thisArg, [argsArray])<br>
<code>apply</code>æ–¹æ³•ä¸<code>call</code>ç±»ä¼¼ï¼Œä¹Ÿæ˜¯æ”¹å˜<code>this</code>æŒ‡å‘ï¼Œç„¶åå†è°ƒç”¨è¯¥å‡½æ•°ã€‚å”¯ä¸€åŒºåˆ«æ˜¯ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‡½æ•°æ‰§è¡Œæ—¶çš„å‚æ•°ã€‚</p>
</blockquote>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="function sum(x, y) {
    console.log(x + y)
}
sum.call(null, 2, 4) // 6
sum.apply(null, [2, 4]) // 6
// --------------------------------------------------
// å¯¹å­—ç¬¦ä¸²ä¸­çš„å•ä¸ªå­—ç¬¦è¿›è¡Œé‡å¤æ“ä½œ
//Uncaught TypeError: &quot;abcd&quot;.map is not a function
'abcd'.map(i =&gt; console.log(i))
// aabbccdd
Array.prototype.map.call('abcd', i =&gt; i+i).join('')
"><pre><span class="pl-k">function</span> <span class="pl-en">sum</span><span class="pl-kos">(</span><span class="pl-s1">x</span><span class="pl-kos">,</span> <span class="pl-s1">y</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">x</span> <span class="pl-c1">+</span> <span class="pl-s1">y</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>
<span class="pl-s1">sum</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-c1">null</span><span class="pl-kos">,</span> <span class="pl-c1">2</span><span class="pl-kos">,</span> <span class="pl-c1">4</span><span class="pl-kos">)</span> <span class="pl-c">// 6</span>
<span class="pl-s1">sum</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-c1">null</span><span class="pl-kos">,</span> <span class="pl-kos">[</span><span class="pl-c1">2</span><span class="pl-kos">,</span> <span class="pl-c1">4</span><span class="pl-kos">]</span><span class="pl-kos">)</span> <span class="pl-c">// 6</span>
<span class="pl-c">// --------------------------------------------------</span>
<span class="pl-c">// å¯¹å­—ç¬¦ä¸²ä¸­çš„å•ä¸ªå­—ç¬¦è¿›è¡Œé‡å¤æ“ä½œ</span>
<span class="pl-c">//Uncaught TypeError: "abcd".map is not a function</span>
<span class="pl-s">'abcd'</span><span class="pl-kos">.</span><span class="pl-en">map</span><span class="pl-kos">(</span><span class="pl-s1">i</span> <span class="pl-c1">=&gt;</span> <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">i</span><span class="pl-kos">)</span><span class="pl-kos">)</span>
<span class="pl-c">// aabbccdd</span>
<span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">map</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-s">'abcd'</span><span class="pl-kos">,</span> <span class="pl-s1">i</span> <span class="pl-c1">=&gt;</span> <span class="pl-s1">i</span><span class="pl-c1">+</span><span class="pl-s1">i</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">join</span><span class="pl-kos">(</span><span class="pl-s">''</span><span class="pl-kos">)</span></pre></div>
<h4>åº”ç”¨(Use)</h4>
<ul>
<li>æ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§/æœ€å°çš„å…ƒç´ </li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var a = [4, 7, 3, 9, 11, 1]
Math.max.apply(null, a) // 11
Math.min.apply(null, a) // 1
"><pre><span class="pl-k">var</span> <span class="pl-s1">a</span> <span class="pl-c1">=</span> <span class="pl-kos">[</span><span class="pl-c1">4</span><span class="pl-kos">,</span> <span class="pl-c1">7</span><span class="pl-kos">,</span> <span class="pl-c1">3</span><span class="pl-kos">,</span> <span class="pl-c1">9</span><span class="pl-kos">,</span> <span class="pl-c1">11</span><span class="pl-kos">,</span> <span class="pl-c1">1</span><span class="pl-kos">]</span>
<span class="pl-v">Math</span><span class="pl-kos">.</span><span class="pl-c1">max</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-c1">null</span><span class="pl-kos">,</span> <span class="pl-s1">a</span><span class="pl-kos">)</span> <span class="pl-c">// 11</span>
<span class="pl-v">Math</span><span class="pl-kos">.</span><span class="pl-c1">min</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-c1">null</span><span class="pl-kos">,</span> <span class="pl-s1">a</span><span class="pl-kos">)</span> <span class="pl-c">// 1</span></pre></div>
<ul>
<li>å°†æ•°ç»„çš„ç©ºå…ƒç´ å˜ä¸º<code>undefined</code>(æ•°ç»„éå†ä¼šè·³è¿‡ç©ºå…ƒç´ ï¼Œä½†æ˜¯ä¸ä¼šè·³è¿‡undefined)</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="Array.apply(null, [1, 2, , 3]) // [1, 2, undefined, 3]
"><pre><span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-c1">null</span><span class="pl-kos">,</span> <span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">,</span> <span class="pl-c1">2</span><span class="pl-kos">,</span> <span class="pl-kos">,</span> <span class="pl-c1">3</span><span class="pl-kos">]</span><span class="pl-kos">)</span> <span class="pl-c">// [1, 2, undefined, 3]</span></pre></div>
<ul>
<li>è½¬æ¢ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡(è¢«å¤„ç†çš„å¯¹è±¡å¿…é¡»æœ‰<code>length</code>å±æ€§ï¼Œä»¥åŠç›¸å¯¹åº”çš„æ•°å­—é”®)</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="// ä¾‹1:
var o = {
    0: 1,
    1: 3,
    length: 2
}
Array.prototype.slice.apply(o) // [1, 3]
// ä¾‹2:
var o2 = {
    0: 1,
    1: 3
}
Array.prototype.slice.apply(o2) // []
// ä¾‹3:
var o3 = {
    0: 1,
    1: 3,
    length: 4
}
Array.prototype.slice.apply(o3) // [1, 3, empty Ã— 2]
// ä¾‹4:
var o4 = {
    1: 1,
    a: 3,
    length: 2
}
Array.prototype.slice.apply(o4) // [empty, 1]
"><pre><span class="pl-c">// ä¾‹1:</span>
<span class="pl-k">var</span> <span class="pl-s1">o</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">0</span>: <span class="pl-c1">1</span><span class="pl-kos">,</span>
    <span class="pl-c1">1</span>: <span class="pl-c1">3</span><span class="pl-kos">,</span>
    <span class="pl-c1">length</span>: <span class="pl-c1">2</span>
<span class="pl-kos">}</span>
<span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">slice</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-s1">o</span><span class="pl-kos">)</span> <span class="pl-c">// [1, 3]</span>
<span class="pl-c">// ä¾‹2:</span>
<span class="pl-k">var</span> <span class="pl-s1">o2</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">0</span>: <span class="pl-c1">1</span><span class="pl-kos">,</span>
    <span class="pl-c1">1</span>: <span class="pl-c1">3</span>
<span class="pl-kos">}</span>
<span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">slice</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-s1">o2</span><span class="pl-kos">)</span> <span class="pl-c">// []</span>
<span class="pl-c">// ä¾‹3:</span>
<span class="pl-k">var</span> <span class="pl-s1">o3</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">0</span>: <span class="pl-c1">1</span><span class="pl-kos">,</span>
    <span class="pl-c1">1</span>: <span class="pl-c1">3</span><span class="pl-kos">,</span>
    <span class="pl-c1">length</span>: <span class="pl-c1">4</span>
<span class="pl-kos">}</span>
<span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">slice</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-s1">o3</span><span class="pl-kos">)</span> <span class="pl-c">// [1, 3, empty Ã— 2]</span>
<span class="pl-c">// ä¾‹4:</span>
<span class="pl-k">var</span> <span class="pl-s1">o4</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">1</span>: <span class="pl-c1">1</span><span class="pl-kos">,</span>
    <span class="pl-c1">a</span>: <span class="pl-c1">3</span><span class="pl-kos">,</span>
    <span class="pl-c1">length</span>: <span class="pl-c1">2</span>
<span class="pl-kos">}</span>
<span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">slice</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-s1">o4</span><span class="pl-kos">)</span> <span class="pl-c">// [empty, 1]</span></pre></div>
<ul>
<li>ç»‘å®šå›è°ƒå‡½æ•°çš„å¯¹è±¡(ä¹‹å‰<a href="#%E9%81%BF%E5%85%8D%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E4%B8%AD%E7%9A%84this">ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶</a>çš„ä¾‹å­)</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var o = new Object()
o.f = function() {
    console.log(this === o)
}
// `apply`æˆ–è€…`call`æ–¹æ³•ä¸ä»…ç»‘å®šå‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè¿˜ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ã€‚å› æ­¤è¦æŠŠç»‘å®šè¯­å¥å†™åœ¨ä¸€ä¸ªå‡½æ•°ä½“å†…ã€‚
var foo = function() {
    // o.f.call(o)
    o.f.apply(o)
}
// true
document.querySelector('#btn').addEventListener('click', foo)
"><pre><span class="pl-k">var</span> <span class="pl-s1">o</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Object</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-en">f</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span> <span class="pl-c1">===</span> <span class="pl-s1">o</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>
<span class="pl-c">// `apply`æˆ–è€…`call`æ–¹æ³•ä¸ä»…ç»‘å®šå‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè¿˜ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ã€‚å› æ­¤è¦æŠŠç»‘å®šè¯­å¥å†™åœ¨ä¸€ä¸ªå‡½æ•°ä½“å†…ã€‚</span>
<span class="pl-k">var</span> <span class="pl-en">foo</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-c">// o.f.call(o)</span>
    <span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-c1">f</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-s1">o</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>
<span class="pl-c">// true</span>
<span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-en">querySelector</span><span class="pl-kos">(</span><span class="pl-s">'#btn'</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">addEventListener</span><span class="pl-kos">(</span><span class="pl-s">'click'</span><span class="pl-kos">,</span> <span class="pl-en">foo</span><span class="pl-kos">)</span></pre></div>
<h3><code>bind</code>æ–¹æ³•</h3>
<blockquote>
<p>Syntax: fun.bind(thisArg[, arg1[, arg2[, ...]]])</p>
</blockquote>
<ul>
<li><code>bind</code>æ–¹æ³•ç”¨äºå°†å‡½æ•°ä½“å†…çš„<code>this</code>ç»‘å®šåˆ°æŸä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°å‡½æ•°ã€‚</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var o = new Object()
o.name = 'lencx'
o.say = function() {
    console.log(this.name)
}
o.say() // lencx
var o2 = new Object()
o2.name = 'len'
o2.say = o.say
o2.say() // len
o2.say = o.say.bind(o)
o2.say() // lencx
"><pre><span class="pl-k">var</span> <span class="pl-s1">o</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Object</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-c1">name</span> <span class="pl-c1">=</span> <span class="pl-s">'lencx'</span>
<span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-en">say</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">name</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>
<span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-en">say</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// lencx</span>
<span class="pl-k">var</span> <span class="pl-s1">o2</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Object</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-s1">o2</span><span class="pl-kos">.</span><span class="pl-c1">name</span> <span class="pl-c1">=</span> <span class="pl-s">'len'</span>
<span class="pl-s1">o2</span><span class="pl-kos">.</span><span class="pl-c1">say</span> <span class="pl-c1">=</span> <span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-c1">say</span>
<span class="pl-s1">o2</span><span class="pl-kos">.</span><span class="pl-en">say</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// len</span>
<span class="pl-s1">o2</span><span class="pl-kos">.</span><span class="pl-c1">say</span> <span class="pl-c1">=</span> <span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-c1">say</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-s1">o</span><span class="pl-kos">)</span>
<span class="pl-s1">o2</span><span class="pl-kos">.</span><span class="pl-en">say</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// lencx</span></pre></div>
<ul>
<li><code>bind</code>é™¤äº†å¯ä»¥ç»‘å®š<code>this</code>ä»¥å¤–ï¼Œè¿˜å¯ä»¥ç»‘å®šåŸå‡½æ•°çš„å‚æ•°</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var sum = function(x, y) {
    return x * this.a + y * this.b
}
var nums = {
    a: 3,
    b: 4
}
var newSum = sum.bind(nums, 3)
newSum(3)
"><pre><span class="pl-k">var</span> <span class="pl-en">sum</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-s1">x</span><span class="pl-kos">,</span> <span class="pl-s1">y</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">return</span> <span class="pl-s1">x</span> <span class="pl-c1">*</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">a</span> <span class="pl-c1">+</span> <span class="pl-s1">y</span> <span class="pl-c1">*</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">b</span>
<span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-s1">nums</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
    <span class="pl-c1">a</span>: <span class="pl-c1">3</span><span class="pl-kos">,</span>
    <span class="pl-c1">b</span>: <span class="pl-c1">4</span>
<span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-s1">newSum</span> <span class="pl-c1">=</span> <span class="pl-en">sum</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-s1">nums</span><span class="pl-kos">,</span> <span class="pl-c1">3</span><span class="pl-kos">)</span>
<span class="pl-s1">newSum</span><span class="pl-kos">(</span><span class="pl-c1">3</span><span class="pl-kos">)</span></pre></div>
<h4>æ³¨æ„äº‹é¡¹(Note)</h4>
<ul>
<li>æ¯æ¬¡ç»‘å®šéƒ½è¿”å›ä¸€ä¸ªæ–°å‡½æ•°</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="// ç‚¹å‡»äº‹ä»¶ç»‘å®š`bind`æ–¹æ³•ç”Ÿæˆçš„ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ä¼šå¯¼è‡´æ— æ³•å–æ¶ˆç»‘å®šã€‚
element.addEventListener('click', o.say.bind(o))
// å› æ­¤ä¸‹é¢çš„ä»£ç æ— æ•ˆ
element.removeEventListener('click', o.say.bind(o))
// æ­£ç¡®è§£æ³•ï¼š
var _say = o.say.bind(o)
element.addEventListener('click', _say)
element.removeEventListener('click', _say)
"><pre><span class="pl-c">// ç‚¹å‡»äº‹ä»¶ç»‘å®š`bind`æ–¹æ³•ç”Ÿæˆçš„ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ä¼šå¯¼è‡´æ— æ³•å–æ¶ˆç»‘å®šã€‚</span>
<span class="pl-s1">element</span><span class="pl-kos">.</span><span class="pl-en">addEventListener</span><span class="pl-kos">(</span><span class="pl-s">'click'</span><span class="pl-kos">,</span> <span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-c1">say</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-s1">o</span><span class="pl-kos">)</span><span class="pl-kos">)</span>
<span class="pl-c">// å› æ­¤ä¸‹é¢çš„ä»£ç æ— æ•ˆ</span>
<span class="pl-s1">element</span><span class="pl-kos">.</span><span class="pl-en">removeEventListener</span><span class="pl-kos">(</span><span class="pl-s">'click'</span><span class="pl-kos">,</span> <span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-c1">say</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-s1">o</span><span class="pl-kos">)</span><span class="pl-kos">)</span>
<span class="pl-c">// æ­£ç¡®è§£æ³•ï¼š</span>
<span class="pl-k">var</span> <span class="pl-s1">_say</span> <span class="pl-c1">=</span> <span class="pl-s1">o</span><span class="pl-kos">.</span><span class="pl-c1">say</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-s1">o</span><span class="pl-kos">)</span>
<span class="pl-s1">element</span><span class="pl-kos">.</span><span class="pl-en">addEventListener</span><span class="pl-kos">(</span><span class="pl-s">'click'</span><span class="pl-kos">,</span> <span class="pl-s1">_say</span><span class="pl-kos">)</span>
<span class="pl-s1">element</span><span class="pl-kos">.</span><span class="pl-en">removeEventListener</span><span class="pl-kos">(</span><span class="pl-s">'click'</span><span class="pl-kos">,</span> <span class="pl-s1">_say</span><span class="pl-kos">)</span></pre></div>
<ul>
<li><code>bind</code>æ–¹æ³•çš„å…¼å®¹(Polyfill)</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind
if (!Function.prototype.bind) {
  Function.prototype.bind = function(oThis) {
    if (typeof this !== 'function') {
      // closest thing possible to the ECMAScript 5
      // internal IsCallable function
      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');
    }
    var aArgs   = Array.prototype.slice.call(arguments, 1),
        fToBind = this,
        fNOP    = function() {},
        fBound  = function() {
          return fToBind.apply(this instanceof fNOP
                 ? this
                 : oThis,
                 aArgs.concat(Array.prototype.slice.call(arguments)));
        };
    if (this.prototype) {
      // Function.prototype doesn't have a prototype property
      fNOP.prototype = this.prototype;
    }
    fBound.prototype = new fNOP();
    return fBound;
  };
}
"><pre><span class="pl-c">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind</span>
<span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-c1">!</span><span class="pl-v">Function</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">bind</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
  <span class="pl-v">Function</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-en">bind</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-s1">oThis</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-k">typeof</span> <span class="pl-smi">this</span> <span class="pl-c1">!==</span> <span class="pl-s">'function'</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
      <span class="pl-c">// closest thing possible to the ECMAScript 5</span>
      <span class="pl-c">// internal IsCallable function</span>
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-v">TypeError</span><span class="pl-kos">(</span><span class="pl-s">'Function.prototype.bind - what is trying to be bound is not callable'</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
    <span class="pl-k">var</span> <span class="pl-s1">aArgs</span>   <span class="pl-c1">=</span> <span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">slice</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-smi">arguments</span><span class="pl-kos">,</span> <span class="pl-c1">1</span><span class="pl-kos">)</span><span class="pl-kos">,</span>
        <span class="pl-s1">fToBind</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">,</span>
        <span class="pl-en">fNOP</span>    <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span><span class="pl-kos">}</span><span class="pl-kos">,</span>
        <span class="pl-en">fBound</span>  <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
          <span class="pl-k">return</span> <span class="pl-s1">fToBind</span><span class="pl-kos">.</span><span class="pl-en">apply</span><span class="pl-kos">(</span><span class="pl-smi">this</span> <span class="pl-k">instanceof</span> <span class="pl-en">fNOP</span>
                 ? <span class="pl-smi">this</span>
                 : <span class="pl-s1">oThis</span><span class="pl-kos">,</span>
                 <span class="pl-s1">aArgs</span><span class="pl-kos">.</span><span class="pl-en">concat</span><span class="pl-kos">(</span><span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">slice</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-smi">arguments</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-kos">}</span><span class="pl-kos">;</span>
    <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
      <span class="pl-c">// Function.prototype doesn't have a prototype property</span>
      <span class="pl-en">fNOP</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
    <span class="pl-en">fBound</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-en">fNOP</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-k">return</span> <span class="pl-en">fBound</span><span class="pl-kos">;</span>
  <span class="pl-kos">}</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span></pre></div>
<ul>
<li>ç»“åˆ<code>call</code>æ–¹æ³•ä½¿ç”¨</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="[1, 2, 3].slice(0, 1) // [1]
// ç­‰åŒ
Array.prototype.slice.call([1, 2, 3], 0, 1) // [1]
// `call`æ–¹æ³•å®è´¨æ˜¯è°ƒç”¨`Function.prototype.call`æ–¹æ³•
var slice = Function.prototype.call.bind(Array.prototype.slice)
slice([1, 2, 3], 0, 1) // [1]
"><pre><span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">,</span> <span class="pl-c1">2</span><span class="pl-kos">,</span> <span class="pl-c1">3</span><span class="pl-kos">]</span><span class="pl-kos">.</span><span class="pl-en">slice</span><span class="pl-kos">(</span><span class="pl-c1">0</span><span class="pl-kos">,</span> <span class="pl-c1">1</span><span class="pl-kos">)</span> <span class="pl-c">// [1]</span>
<span class="pl-c">// ç­‰åŒ</span>
<span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">slice</span><span class="pl-kos">.</span><span class="pl-en">call</span><span class="pl-kos">(</span><span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">,</span> <span class="pl-c1">2</span><span class="pl-kos">,</span> <span class="pl-c1">3</span><span class="pl-kos">]</span><span class="pl-kos">,</span> <span class="pl-c1">0</span><span class="pl-kos">,</span> <span class="pl-c1">1</span><span class="pl-kos">)</span> <span class="pl-c">// [1]</span>
<span class="pl-c">// `call`æ–¹æ³•å®è´¨æ˜¯è°ƒç”¨`Function.prototype.call`æ–¹æ³•</span>
<span class="pl-k">var</span> <span class="pl-s1">slice</span> <span class="pl-c1">=</span> <span class="pl-v">Function</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">call</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">slice</span><span class="pl-kos">)</span>
<span class="pl-s1">slice</span><span class="pl-kos">(</span><span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">,</span> <span class="pl-c1">2</span><span class="pl-kos">,</span> <span class="pl-c1">3</span><span class="pl-kos">]</span><span class="pl-kos">,</span> <span class="pl-c1">0</span><span class="pl-kos">,</span> <span class="pl-c1">1</span><span class="pl-kos">)</span> <span class="pl-c">// [1]</span></pre></div>
<ul>
<li>åˆ©ç”¨<code>bind</code>æ–¹æ³•ï¼Œå°†<code>[1, 2, 3].slice(0, 1)</code>å˜æˆäº†<code>slice([1, 2, 3], 0, 1)</code>çš„å½¢å¼ã€‚è¿™ç§æ”¹å˜ä¹Ÿå¯ä»¥åº”ç”¨åˆ°å…¶ä»–æ•°ç»„æ–¹æ³•ã€‚</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="var pop = Function.prototype.call.bind(Array.prototype.pop)
var push = Function.prototype.call.bind(Array.prototype.push)
var shift = Function.prototype.call.bind(Array.prototype.shift)
var map = Function.prototype.call.bind(Array.prototype.map)
// ...
var a = [1, 2, 3]
pop(a) // [1, 2]
push(a, 5) // [1, 2, 5]
shift(a) // [2, 5]
map(a, i =&gt; i+1) // [3, 6]
"><pre><span class="pl-k">var</span> <span class="pl-s1">pop</span> <span class="pl-c1">=</span> <span class="pl-v">Function</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">call</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">pop</span><span class="pl-kos">)</span>
<span class="pl-k">var</span> <span class="pl-s1">push</span> <span class="pl-c1">=</span> <span class="pl-v">Function</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">call</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">push</span><span class="pl-kos">)</span>
<span class="pl-k">var</span> <span class="pl-s1">shift</span> <span class="pl-c1">=</span> <span class="pl-v">Function</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">call</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">shift</span><span class="pl-kos">)</span>
<span class="pl-k">var</span> <span class="pl-s1">map</span> <span class="pl-c1">=</span> <span class="pl-v">Function</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">call</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-v">Array</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">map</span><span class="pl-kos">)</span>
<span class="pl-c">// ...</span>
<span class="pl-k">var</span> <span class="pl-s1">a</span> <span class="pl-c1">=</span> <span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">,</span> <span class="pl-c1">2</span><span class="pl-kos">,</span> <span class="pl-c1">3</span><span class="pl-kos">]</span>
<span class="pl-s1">pop</span><span class="pl-kos">(</span><span class="pl-s1">a</span><span class="pl-kos">)</span> <span class="pl-c">// [1, 2]</span>
<span class="pl-s1">push</span><span class="pl-kos">(</span><span class="pl-s1">a</span><span class="pl-kos">,</span> <span class="pl-c1">5</span><span class="pl-kos">)</span> <span class="pl-c">// [1, 2, 5]</span>
<span class="pl-s1">shift</span><span class="pl-kos">(</span><span class="pl-s1">a</span><span class="pl-kos">)</span> <span class="pl-c">// [2, 5]</span>
<span class="pl-s1">map</span><span class="pl-kos">(</span><span class="pl-s1">a</span><span class="pl-kos">,</span> <span class="pl-s1">i</span> <span class="pl-c1">=&gt;</span> <span class="pl-s1">i</span><span class="pl-c1">+</span><span class="pl-c1">1</span><span class="pl-kos">)</span> <span class="pl-c">// [3, 6]</span></pre></div>
<ul>
<li>å°†<code>Function.prototype.call</code>ç»‘å®šåˆ°<code>Function.prototype.bind</code>å¯¹è±¡ï¼Œ<code>bind</code>çš„è°ƒç”¨å½¢å¼ä¹Ÿå¯ä»¥è¢«æ”¹å†™</li>
</ul>
<div class="highlight highlight-source-js position-relative" data-snippet-clipboard-copy-content="function foo() {
    console.log(this.name)
}
var o = {name: 'lencx'}
var bind = Function.prototype.call.bind(Function.prototype.bind)
bind(foo, o)() // lencx
"><pre><span class="pl-k">function</span> <span class="pl-en">foo</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">name</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-s1">o</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span><span class="pl-c1">name</span>: <span class="pl-s">'lencx'</span><span class="pl-kos">}</span>
<span class="pl-k">var</span> <span class="pl-s1">bind</span> <span class="pl-c1">=</span> <span class="pl-v">Function</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">call</span><span class="pl-kos">.</span><span class="pl-en">bind</span><span class="pl-kos">(</span><span class="pl-v">Function</span><span class="pl-kos">.</span><span class="pl-c1">prototype</span><span class="pl-kos">.</span><span class="pl-c1">bind</span><span class="pl-kos">)</span>
<span class="pl-s1">bind</span><span class="pl-kos">(</span><span class="pl-s1">foo</span><span class="pl-kos">,</span> <span class="pl-s1">o</span><span class="pl-kos">)</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c">// lencx</span></pre></div>
<h2>å‚è€ƒèµ„æ–™</h2>
<ul>
<li>MDN Web Docs:
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" rel="nofollow">this</a>,</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="nofollow">defineProperty</a>,</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call" rel="nofollow">call</a>,</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" rel="nofollow">bind</a>,</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" rel="nofollow">apply</a></li>
</ul>
</li>
</ul>]]></description>
</item>

</channel>
</rss>